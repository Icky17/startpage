<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Startpage | Jairo Morales</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="icon" type="image" href="./home-3d-icon.webp">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="main-content">
            <div class="image-section">
                <img src="./img/gif/japan-chill-sakura2.gif" alt="Aesthetic image" id="mainImage">
                <div class="season-indicator" id="seasonIndicator">Spring</div>
            </div>
        
            <div class="content">
                <div class="time-display">
                    <div id="datetime" class="datetime">FRIDAY, APR 25, 20:15</div>
                </div>
                
                <div class="terminal-section">
                    <div class="terminal">
                        <span class="prompt">→</span>
                        <input type="text" id="terminalInput" placeholder="search links...">
                    </div>
                    <div id="suggestions" class="suggestions"></div>
                </div>
                
                <div class="bookmarks-grid">
                    <div class="category">
                        <h3>General</h3>
                        <div class="links" id="general-links">
                            <!-- Fallback-Links, falls JavaScript nicht lädt -->
                            <a href="https://chat.openai.com" target="_blank">ChatGPT</a>
                            <a href="https://claude.ai" target="_blank">Claude</a>
                            <a href="https://www.reddit.com" target="_blank">Reddit</a>
                            <a href="https://www.linkedin.com" target="_blank">LinkedIn</a>
                            <a href="https://www.youtube.com" target="_blank">YouTube</a>
                            <a href="https://mail.google.com" target="_blank">Gmail</a>
                            <a href="https://drive.proton.me" target="_blank">Proton Drive</a>
                        </div>
                    </div>
                    <div class="category">
                        <h3>Learning</h3>
                        <div class="links" id="learning-links">
                            <!-- Fallback-Links, falls JavaScript nicht lädt -->
                            <a href="https://roadmap.sh" target="_blank">Roadmap.sh</a>
                            <a href="https://github.com" target="_blank">GitHub</a>
                            <a href="https://www.udemy.com" target="_blank">Udemy</a>
                            <a href="https://www.w3schools.com" target="_blank">W3Schools</a>
                            <a href="https://explainshell.com" target="_blank">Explainshell</a>
                            <a href="https://wiki.archlinux.org" target="_blank">ArchWiki</a>
                            <a href="https://www.netacad.com" target="_blank">NetAcad</a>
                        </div>
                    </div>
                    <div class="category">
                        <h3>Productivity</h3>
                        <div class="links" id="productivity-links">
                            <!-- Fallback-Links, falls JavaScript nicht lädt -->
                            <a href="https://tasksboard.com/app" target="_blank">TasksBoard</a>
                            <a href="https://app.flocus.com/" target="_blank">Flocus</a>
                            <a href="https://idx.dev/" target="_blank">IDX Dev</a>
                        </div>
                    </div>
                    <div class="category">
                        <h3>School</h3>
                        <div class="links" id="school-links">
                            <!-- Fallback-Links, falls JavaScript nicht lädt -->
                            <a href="https://www.bbbaden.ch/" target="_blank">BBBaden</a>
                            <a href="https://moodle.bbbaden.ch/" target="_blank">Moodle</a>
                            <a href="https://bbbaden-my.sharepoint.com/" target="_blank">OneDrive (BBBaden)</a>
                            <a href="https://bbbaden-my.sharepoint.com/:o:/g/personal/daniel_wuest_bbbaden_ch/Ei3c8fUbXC9PqoFVdyMp3VYBFkYXVmg2eo4NEkYZpVkOoA?e=PxdD24" target="_blank">OneNote (BBBaden)</a>
                            <a href="https://outlook.office.com/mail/" target="_blank">Outlook</a>
                            <a href="https://monkeytype.com" target="_blank">MonkeyType</a>
                            <a href="https://drive.proton.me" target="_blank">Proton Drive</a>
                        </div>
                    </div>
                    <div class="category">
                        <h3>ABB-TS</h3>
                        <div class="links" id="abbts-links">
                            <!-- Fallback-Links, falls JavaScript nicht lädt -->
                            <a href="https://www.abbts.ch/" target="_blank">ABB-TS Website</a>
                        </div>
                    </div>
                    <div class="category">
                        <h3>Kalaidos</h3>
                        <div class="links" id="kalaidos-links">
                            <!-- Fallback-Links, falls JavaScript nicht lädt -->
                            <a href="https://www.kalaidos-fh.ch/" target="_blank">Kalaidos Portal</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <nav class="nav-links">
        <a href="./pages/pomodoro.html">Pomodoro</a>
        <a href="./pages/todo.html">To-Do</a>
        <a href="./pages/binary-game.html">Binary Game</a>
        <a href="https://jairomorales.ch/networking">Networking</a>
    </nav>
    
    <button class="settings-btn" id="settingsBtn">⚙️ Settings</button>

    <div class="overlay" id="overlay"></div>
    
    <div class="settings-panel" id="settingsPanel">
        <div class="settings-header">
            <h2>Settings</h2>
            <button class="close-btn" id="closeBtn"></button>
        </div>
        
        <div class="settings-section">
            <h3>
                Images
                <button class="add-bookmark-btn" onclick="addImageUrl()">+ Add Image</button>
            </h3>
            <div id="imageList" class="image-list"></div>
        </div>

        <div class="settings-section">
            <h3>Bookmarks</h3>
            <div id="bookmarksEditor"></div>
        </div>

        <div class="settings-section">
            <h3>Import/Export Settings</h3>
            <div class="import-export-btns">
                <button onclick="exportSettings()">Export Settings</button>
                <button onclick="importSettings()">Import Settings</button>
            </div>
        </div>
    </div>

    <input type="file" id="importInput" style="display: none" accept=".json">
    <script src="./main.js" defer></script>
    
    <!-- Direktes Backup-Skript, das Links einfügt, falls sie nach dem Laden fehlen -->
    <script>
        // Funktion, die Links anzeigt, falls sie nach dem Laden leer sind
        document.addEventListener('DOMContentLoaded', function() {
            // Datum und Uhrzeit setzen, wenn sie nicht von main.js gesetzt werden
            const dateTimeElement = document.getElementById('datetime');
            if (dateTimeElement && dateTimeElement.textContent === 'FRIDAY, APR 25, 20:15') {
                const now = new Date();
                const options = {
                    weekday: 'long',
                    month: 'short',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit',
                    hour12: false
                };
                dateTimeElement.textContent = now.toLocaleDateString('en-US', options).toUpperCase();
            }
            
            // Prüfe nach einer Sekunde, ob die Links leer sind
            setTimeout(function() {
                // Definiere alle Kategorien
                const categories = ["general", "learning", "productivity", "school", "abbts", "kalaidos"];
                
                // Prüfe jede Kategorie
                categories.forEach(category => {
                    const container = document.getElementById(`${category}-links`);
                    if (container && container.children.length === 0) {
                        console.log(`Links für ${category} wurden nicht geladen, füge Fallback-Links hinzu`);
                        
                        // Je nach Kategorie verschiedene Links einfügen
                        switch(category) {
                            case "general":
                                container.innerHTML = `
                                    <a href="https://chat.openai.com" target="_blank">ChatGPT</a>
                                    <a href="https://claude.ai" target="_blank">Claude</a>
                                    <a href="https://www.reddit.com" target="_blank">Reddit</a>
                                    <a href="https://www.linkedin.com" target="_blank">LinkedIn</a>
                                    <a href="https://www.youtube.com" target="_blank">YouTube</a>
                                    <a href="https://mail.google.com" target="_blank">Gmail</a>
                                    <a href="https://drive.proton.me" target="_blank">Proton Drive</a>
                                `;
                                break;
                            case "learning":
                                container.innerHTML = `
                                    <a href="https://roadmap.sh" target="_blank">Roadmap.sh</a>
                                    <a href="https://github.com" target="_blank">GitHub</a>
                                    <a href="https://www.udemy.com" target="_blank">Udemy</a>
                                    <a href="https://www.w3schools.com" target="_blank">W3Schools</a>
                                    <a href="https://explainshell.com" target="_blank">Explainshell</a>
                                    <a href="https://wiki.archlinux.org" target="_blank">ArchWiki</a>
                                    <a href="https://www.netacad.com" target="_blank">NetAcad</a>
                                `;
                                break;
                            case "productivity":
                                container.innerHTML = `
                                    <a href="https://tasksboard.com/app" target="_blank">TasksBoard</a>
                                    <a href="https://app.flocus.com/" target="_blank">Flocus</a>
                                    <a href="https://idx.dev/" target="_blank">IDX Dev</a>
                                `;
                                break;
                            case "school":
                                container.innerHTML = `
                                    <a href="https://www.bbbaden.ch/" target="_blank">BBBaden</a>
                                    <a href="https://moodle.bbbaden.ch/" target="_blank">Moodle</a>
                                    <a href="https://bbbaden-my.sharepoint.com/" target="_blank">OneDrive (BBBaden)</a>
                                    <a href="https://bbbaden-my.sharepoint.com/:o:/g/personal/daniel_wuest_bbbaden_ch/Ei3c8fUbXC9PqoFVdyMp3VYBFkYXVmg2eo4NEkYZpVkOoA?e=PxdD24" target="_blank">OneNote (BBBaden)</a>
                                    <a href="https://outlook.office.com/mail/" target="_blank">Outlook</a>
                                    <a href="https://monkeytype.com" target="_blank">MonkeyType</a>
                                    <a href="https://drive.proton.me" target="_blank">Proton Drive</a>
                                `;
                                break;
                            case "abbts":
                                container.innerHTML = `
                                    <a href="https://www.abbts.ch/" target="_blank">ABB-TS Website</a>
                                `;
                                break;
                            case "kalaidos":
                                container.innerHTML = `
                                    <a href="https://www.kalaidos-fh.ch/" target="_blank">Kalaidos Portal</a>
                                `;
                                break;
                        }
                    }
                });
            }, 2000);
        });
    </script>
    <!-- Füge dieses Script-Tag direkt vor dem schließenden </body>-Tag in deiner index.html ein -->
<script>
    // Direktes Inline-Skript für die Terminal-Suche
    document.addEventListener('DOMContentLoaded', function() {
        console.log("Inline-Skript für Terminal-Funktionalität wird ausgeführt");
        
        const terminalInput = document.getElementById('terminalInput');
        const suggestions = document.getElementById('suggestions');
        
        if (!terminalInput || !suggestions) {
            console.error("Terminal-Elemente nicht gefunden!");
            return;
        }
        
        // Input-Event-Listener für Live-Suche
        terminalInput.addEventListener('input', function(e) {
            const query = terminalInput.value.toLowerCase();
            
            if (!query) {
                suggestions.style.display = 'none';
                return;
            }
            
            // Such-Aliase überprüfen
            const searchAliases = {
                'g ': 'https://www.google.com/search?q=',
                'd ': 'https://duckduckgo.com/?q=',
                'gh ': 'https://github.com/search?q=',
                's ': 'https://stackoverflow.com/search?q=',
                'r ': 'https://www.reddit.com/search/?q=',
                'w ': 'https://en.wikipedia.org/wiki/Special:Search?search='
            };
            
            // Prüfen ob die Anfrage mit einem Such-Alias beginnt
            for (const [prefix, searchUrl] of Object.entries(searchAliases)) {
                if (query.startsWith(prefix)) {
                    const searchTerm = query.substring(prefix.length);
                    if (searchTerm) {
                        suggestions.innerHTML = `<div class="suggestion search-suggestion" data-url="${searchUrl}${encodeURIComponent(searchTerm)}">
                            Search ${getSearchEngineName(prefix)}: ${searchTerm}
                        </div>`;
                        suggestions.style.display = 'block';
                        
                        const searchSuggestion = suggestions.querySelector('.search-suggestion');
                        if (searchSuggestion) {
                            searchSuggestion.addEventListener('click', function(e) {
                                e.stopPropagation();
                                window.open(searchSuggestion.dataset.url, '_blank');
                                terminalInput.value = '';
                                suggestions.style.display = 'none';
                            });
                        }
                        return;
                    }
                }
            }
            
            // Lesezeichen durchsuchen, wenn kein Such-Alias verwendet wird
            let matches = [];
            
            // Hole alle Lesezeichen aus den Link-Containern
            const linkContainers = document.querySelectorAll('.links');
            linkContainers.forEach(container => {
                const links = container.querySelectorAll('a');
                links.forEach(link => {
                    if (link.textContent.toLowerCase().includes(query) || 
                        link.href.toLowerCase().includes(query)) {
                        matches.push({
                            name: link.textContent,
                            url: link.href
                        });
                    }
                });
            });
            
            if (matches.length > 0) {
                suggestions.innerHTML = matches
                    .map(match => `<div class="suggestion" data-url="${match.url}">${match.name}</div>`)
                    .join('');
                suggestions.style.display = 'block';
                
                const suggestionElements = suggestions.querySelectorAll('.suggestion');
                suggestionElements.forEach(element => {
                    element.addEventListener('click', function(e) {
                        e.stopPropagation();
                        window.open(element.dataset.url, '_blank');
                        terminalInput.value = '';
                        suggestions.style.display = 'none';
                    });
                });
            } else {
                suggestions.style.display = 'none';
            }
        });
        
        // Keydown-Event-Listener für Enter-Taste
        terminalInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                const query = terminalInput.value.toLowerCase();
                
                // Such-Aliase überprüfen
                const searchAliases = {
                    'g ': 'https://www.google.com/search?q=',
                    'd ': 'https://duckduckgo.com/?q=',
                    'gh ': 'https://github.com/search?q=',
                    's ': 'https://stackoverflow.com/search?q=',
                    'r ': 'https://www.reddit.com/search/?q=',
                    'w ': 'https://en.wikipedia.org/wiki/Special:Search?search='
                };
                
                // Prüfen ob die Anfrage mit einem Such-Alias beginnt
                for (const [prefix, searchUrl] of Object.entries(searchAliases)) {
                    if (query.startsWith(prefix)) {
                        const searchTerm = query.substring(prefix.length);
                        if (searchTerm) {
                            window.open(searchUrl + encodeURIComponent(searchTerm), '_blank');
                            terminalInput.value = '';
                            suggestions.style.display = 'none';
                            return;
                        }
                    }
                }
                
                // Wenn kein Such-Alias oder wenn Vorschläge angezeigt werden, den ersten Vorschlag verwenden
                if (suggestions.style.display === 'block') {
                    const firstSuggestion = suggestions.querySelector('.suggestion');
                    if (firstSuggestion) {
                        window.open(firstSuggestion.dataset.url, '_blank');
                        terminalInput.value = '';
                        suggestions.style.display = 'none';
                    }
                }
            }
        });
        
        // Klick außerhalb des Terminals schließt Vorschläge
        document.addEventListener('click', function() {
            suggestions.style.display = 'none';
        });
        
        // Hilfsfunktion für Suchmaschinen-Namen
        function getSearchEngineName(prefix) {
            switch(prefix.trim()) {
                case 'g': return 'Google';
                case 'd': return 'DuckDuckGo';
                case 'gh': return 'GitHub';
                case 's': return 'Stack Overflow';
                case 'r': return 'Reddit';
                case 'w': return 'Wikipedia';
                default: return 'Search';
            }
        }
    });
</script>
</body>
</html>